(function(){"use strict";var t={9641:function(t,e,s){var a=s(9242),o=s(3396),i=s(7139);const n={id:"wrapper"},r={class:"navbar is-light"},l={class:"navbar-brand"},c=(0,o._)("strong",null,"RockNGuitars",-1),u=(0,o._)("span",{"aria-hidden":"true"},null,-1),d=(0,o._)("span",{"aria-hidden":"true"},null,-1),m=(0,o._)("span",{"aria-hidden":"true"},null,-1),p=[u,d,m],h=(0,o._)("div",{class:"navbar-start"},[(0,o._)("div",{class:"navbar-item"},[(0,o._)("form",{method:"get",action:"/search"},[(0,o._)("div",{class:"field has-addons"},[(0,o._)("div",{class:"control"},[(0,o._)("input",{type:"text",class:"input",placeholder:"Search",name:"query"})]),(0,o._)("div",{class:"control"},[(0,o._)("button",{class:"button is-dark"},[(0,o._)("span",{class:"icon"},[(0,o._)("i",{class:"las la-search"})])])])])])])],-1),g={class:"navbar-end"},_={class:"navbar-item"},v={class:"buttons"},f=(0,o._)("span",{class:"icon"},[(0,o._)("i",{class:"las la-shopping-cart"})],-1),y=(0,o._)("div",{class:"lds-dual-ring"},null,-1),w=[y],b={class:"section"},k=(0,o._)("footer",{class:"footer"},[(0,o._)("p",{class:"has-text-centered"},"Copyright (c) 2021")],-1);function S(t,e,s,a,u,d){const m=(0,o.up)("router-link"),y=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("nav",r,[(0,o._)("div",l,[(0,o.Wm)(m,{to:"/",class:"navbar-item"},{default:(0,o.w5)((()=>[c])),_:1}),(0,o._)("a",{class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbar-menu",onClick:e[0]||(e[0]=t=>u.showMobileMenu=!u.showMobileMenu)},p)]),(0,o._)("div",{class:(0,i.C_)(["navbar-menu",{"is-active":u.showMobileMenu}]),id:"navbar-menu"},[h,(0,o._)("div",g,[(0,o.Wm)(m,{to:"/contact",class:"navbar-item"},{default:(0,o.w5)((()=>[(0,o.Uk)("Contact Us")])),_:1}),(0,o.Wm)(m,{to:"/shop",class:"navbar-item"},{default:(0,o.w5)((()=>[(0,o.Uk)("Shop")])),_:1}),(0,o._)("div",_,[(0,o._)("div",v,[t.$store.state.isAuthenticated?((0,o.wg)(),(0,o.j4)(m,{key:0,to:"/my-account",class:"button is-light"},{default:(0,o.w5)((()=>[(0,o.Uk)("My account")])),_:1})):((0,o.wg)(),(0,o.j4)(m,{key:1,to:"/log-in",class:"button is-light"},{default:(0,o.w5)((()=>[(0,o.Uk)("Log in")])),_:1})),(0,o.Wm)(m,{to:"/cart",class:"button is-dark"},{default:(0,o.w5)((()=>[f,(0,o._)("span",null,"Cart ("+(0,i.zw)(d.cartTotalLength)+")",1)])),_:1})])])])],2)]),(0,o._)("div",{class:(0,i.C_)(["is-loading-bar has-text-centered",{"is-loading":t.$store.state.isLoading}])},w,2),(0,o._)("section",b,[(0,o.Wm)(y)]),k])}var C=s(70),T={data(){return{showMobileMenu:!1,cart:{items:[]}}},beforeCreate(){this.$store.commit("initializeStore");const t=this.$store.state.token;C.Z.defaults.headers.common.Authorization=t?"Token "+t:""},mounted(){this.cart=this.$store.state.cart},computed:{cartTotalLength(){let t=0;for(let e=0;e<this.cart.items.length;e++)t+=this.cart.items[e].quantity;return t}}},I=s(89);const x=(0,I.Z)(T,[["render",S]]);var $=x,z=s(2483),P=(s(7658),s(65)),L=(0,P.MT)({state:{cart:{items:[]},isAuthenticated:!1,token:"",isLoading:!1},mutations:{initializeStore(t){localStorage.getItem("cart")?t.cart=JSON.parse(localStorage.getItem("cart")):localStorage.setItem("cart",JSON.stringify(t.cart)),localStorage.getItem("token")?(t.token=localStorage.getItem("token"),t.isAuthenticated=!0):(t.token="",t.isAuthenticated=!1)},addToCart(t,e){const s=t.cart.items.filter((t=>t.product.id===e.product.id));s.length?s[0].quantity=parseInt(s[0].quantity)+parseInt(e.quantity):t.cart.items.push(e),localStorage.setItem("cart",JSON.stringify(t.cart))},setIsLoading(t,e){t.isLoading=e},setToken(t,e){t.token=e,t.isAuthenticated=!0},removeToken(t){t.token="",t.isAuthenticated=!1},clearCart(t){t.cart={items:[]},localStorage.setItem("cart",JSON.stringify(t.cart))}},actions:{},modules:{}}),q=s.p+"img/rng.487b817a.png";const D=t=>((0,o.dD)("data-v-3f462c52"),t=t(),(0,o.Cn)(),t),U={class:"home"},O=D((()=>(0,o._)("section",{class:"hero mb-6"},[(0,o._)("div",{class:"hero-body has-text-centered"},[(0,o._)("p",{class:"has-light-text title mb-6"},[(0,o.Uk)(" Welcome to "),(0,o._)("img",{class:"guitar-logo",src:q})])])],-1))),Z=[O];function j(t,e,s,a,i,n){return(0,o.wg)(),(0,o.iD)("div",U,Z)}const F={class:"column is-3"},A={class:"box"},M={class:"mb-4"},H=["src"],Y={class:"is-size-4"},N={class:"is-size-6 has-text-grey"};function V(t,e,s,a,n,r){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",F,[(0,o._)("div",A,[(0,o._)("figure",M,[(0,o._)("img",{src:s.product.get_thumbnail},null,8,H)]),(0,o._)("h3",Y,(0,i.zw)(s.product.name),1),(0,o._)("p",N,"$"+(0,i.zw)(s.product.price),1),(0,o.Wm)(l,{to:s.product.get_absolute_url,class:"button is-dark mt-4"},{default:(0,o.w5)((()=>[(0,o.Uk)("View details")])),_:1},8,["to"])])])}var W={name:"ProductBox",props:{product:Object}};const K=(0,I.Z)(W,[["render",V],["__scopeId","data-v-6739dcf6"]]);var E=K,B={name:"HomeView",components:{ProductBox:E},data(){return{latestProducts:[]}},mounted(){this.getLatestProduct(),document.title="RockNGuitars"},methods:{async getLatestProduct(){this.$store.commit("setIsLoading",!0),await C.Z.get("/api/v1/latest-products/").then((t=>{this.latestProducts=t.data})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const J=(0,I.Z)(B,[["render",j],["__scopeId","data-v-3f462c52"]]);var Q=J;const R=t=>((0,o.dD)("data-v-130d4856"),t=t(),(0,o.Cn)(),t),G={class:"page-product"},X={class:"columns is-multiline"},tt={class:"column is-9"},et={class:"image product-image mb-6"},st=["src"],at={class:"title"},ot={class:"column is-3"},it=R((()=>(0,o._)("h2",{class:"subtitle"},"Information",-1))),nt=R((()=>(0,o._)("strong",null,"Price: ",-1))),rt={class:"field has-addons mt-6"},lt={class:"control"},ct={class:"control"};function ut(t,e,s,n,r,l){return(0,o.wg)(),(0,o.iD)("div",G,[(0,o._)("div",X,[(0,o._)("div",tt,[(0,o._)("figure",et,[(0,o._)("img",{src:r.product.get_image},null,8,st)]),(0,o._)("h1",at,(0,i.zw)(r.product.name),1),(0,o._)("p",null,(0,i.zw)(r.product.description),1)]),(0,o._)("div",ot,[it,(0,o._)("p",null,[nt,(0,o.Uk)("$"+(0,i.zw)(r.product.price),1)]),(0,o._)("div",rt,[(0,o._)("div",lt,[(0,o.wy)((0,o._)("input",{type:"number",class:"input",min:"1","onUpdate:modelValue":e[0]||(e[0]=t=>r.quantity=t)},null,512),[[a.nr,r.quantity]])]),(0,o._)("div",ct,[(0,o._)("a",{class:"button is-dark",onClick:e[1]||(e[1]=t=>l.addToCart())},"Add to cart")])])])])])}var dt=s(5597),mt={name:"Product",data(){return{product:{},quantity:1}},mounted(){this.getProduct()},methods:{async getProduct(){this.$store.commit("setIsLoading",!0);const t=this.$route.params.category_slug,e=this.$route.params.product_slug;await C.Z.get(`/api/v1/products/${t}/${e}`).then((t=>{this.product=t.data,document.title=this.product.name+" | Djackets"})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)},addToCart(){(isNaN(this.quantity)||this.quantity<1)&&(this.quantity=1);const t={product:this.product,quantity:this.quantity};this.$store.commit("addToCart",t),(0,dt.toast)({message:"The product was added to the cart",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})}}};const pt=(0,I.Z)(mt,[["render",ut],["__scopeId","data-v-130d4856"]]);var ht=pt;const gt={class:"page-category"},_t={class:"columns is-multiline"},vt={class:"column is-12"},ft={class:"is-size-2 has-text-centered"};function yt(t,e,s,a,n,r){const l=(0,o.up)("ProductBox");return(0,o.wg)(),(0,o.iD)("div",gt,[(0,o._)("div",_t,[(0,o._)("div",vt,[(0,o._)("h2",ft,(0,i.zw)(n.category.name),1)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.category.products,(t=>((0,o.wg)(),(0,o.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])])}var wt={name:"Category",components:{ProductBox:E},data(){return{category:{products:[]}}},mounted(){this.getCategory()},watch:{$route(t,e){"Category"===t.name&&this.getCategory()}},methods:{async getCategory(){const t=this.$route.params.category_slug;this.$store.commit("setIsLoading",!0),C.Z.get(`/api/v1/products/${t}/`).then((t=>{this.category=t.data,document.title=this.category.name+" | Djackets"})).catch((t=>{console.log(t),(0,dt.toast)({message:"Something went wrong. Please try again.",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})})),this.$store.commit("setIsLoading",!1)}}};const bt=(0,I.Z)(wt,[["render",yt]]);var kt=bt;const St={class:"page-search"},Ct={class:"columns is-multiline"},Tt={class:"column is-12"},It=(0,o._)("h1",{class:"title"},"Search",-1),xt={class:"is-size-5 has-text-grey"};function $t(t,e,s,a,n,r){const l=(0,o.up)("ProductBox");return(0,o.wg)(),(0,o.iD)("div",St,[(0,o._)("div",Ct,[(0,o._)("div",Tt,[It,(0,o._)("h2",xt,'Search term: "'+(0,i.zw)(n.query)+'"',1)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.products,(t=>((0,o.wg)(),(0,o.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])])}var zt={name:"Search",components:{ProductBox:E},data(){return{products:[],query:""}},mounted(){document.title="Search";let t=window.location.search.substring(1),e=new URLSearchParams(t);e.get("query")&&(this.query=e.get("query"),this.performSearch())},methods:{async performSearch(){this.$store.commit("setIsLoading",!0),await C.Z.post("/api/v1/products/search/",{query:this.query}).then((t=>{this.products=t.data})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const Pt=(0,I.Z)(zt,[["render",$t]]);var Lt=Pt;const qt={class:"page-cart"},Dt={class:"columns is-multiline"},Ut=(0,o._)("div",{class:"column is-12"},[(0,o._)("h1",{class:"title"},"Cart")],-1),Ot={class:"column is-12 box"},Zt={key:0,class:"table is-fullwidth"},jt=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Product"),(0,o._)("th",null,"Price"),(0,o._)("th",null,"Quantity"),(0,o._)("th",null,"Total"),(0,o._)("th")])],-1),Ft={key:1},At={class:"column is-12 box"},Mt=(0,o._)("h2",{class:"subtitle"},"Summary",-1),Ht=(0,o._)("hr",null,null,-1);function Yt(t,e,s,a,n,r){const l=(0,o.up)("CartItem"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",qt,[(0,o._)("div",Dt,[Ut,(0,o._)("div",Ot,[r.cartTotalLength?((0,o.wg)(),(0,o.iD)("table",Zt,[jt,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.cart.items,(t=>((0,o.wg)(),(0,o.j4)(l,{key:t.product.id,initialItem:t,onRemoveFromCart:r.removeFromCart},null,8,["initialItem","onRemoveFromCart"])))),128))])])):((0,o.wg)(),(0,o.iD)("p",Ft,"You don't have any products in your cart..."))]),(0,o._)("div",At,[Mt,(0,o._)("strong",null,"$"+(0,i.zw)(r.cartTotalPrice.toFixed(2)),1),(0,o.Uk)(", "+(0,i.zw)(r.cartTotalLength)+" items ",1),Ht,(0,o.Wm)(c,{to:"/cart/checkout",class:"button is-dark"},{default:(0,o.w5)((()=>[(0,o.Uk)("Proceed to checkout")])),_:1})])])])}const Nt=t=>((0,o.dD)("data-v-a2f08394"),t=t(),(0,o.Cn)(),t),Vt=Nt((()=>(0,o._)("span",{class:"icon"},[(0,o._)("i",{class:"las la-minus-circle cart-btn"})],-1))),Wt=[Vt],Kt=Nt((()=>(0,o._)("span",{class:"icon"},[(0,o._)("i",{class:"las la-plus-circle cart-btn"})],-1))),Et=[Kt];function Bt(t,e,s,a,n,r){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("tr",null,[(0,o._)("td",null,[(0,o.Wm)(l,{to:n.item.product.get_absolute_url},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(n.item.product.name),1)])),_:1},8,["to"])]),(0,o._)("td",null,"$"+(0,i.zw)(n.item.product.price),1),(0,o._)("td",null,[(0,o.Uk)((0,i.zw)(n.item.quantity)+" ",1),(0,o._)("a",{onClick:e[0]||(e[0]=t=>r.decrementQuantity(n.item))},Wt),(0,o._)("a",{onClick:e[1]||(e[1]=t=>r.incrementQuantity(n.item))},Et)]),(0,o._)("td",null,"$"+(0,i.zw)(r.getItemTotal(n.item).toFixed(2)),1),(0,o._)("td",null,[(0,o._)("button",{class:"delete",onClick:e[2]||(e[2]=t=>r.removeFromCart(n.item))})])])}var Jt={name:"CartItem",props:{initialItem:Object},data(){return{item:this.initialItem}},methods:{getItemTotal(t){return t.quantity*t.product.price},decrementQuantity(t){t.quantity-=1,0===t.quantity&&this.$emit("removeFromCart",t),this.updateCart()},incrementQuantity(t){t.quantity+=1,this.updateCart()},updateCart(){localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},removeFromCart(t){this.$emit("removeFromCart",t),this.updateCart()}}};const Qt=(0,I.Z)(Jt,[["render",Bt],["__scopeId","data-v-a2f08394"]]);var Rt=Qt,Gt={name:"Cart",components:{CartItem:Rt},data(){return{cart:{items:[]}}},mounted(){this.cart=this.$store.state.cart},methods:{removeFromCart(t){this.cart.items=this.cart.items.filter((e=>e.product.id!==t.product.id))}},computed:{cartTotalLength(){return this.cart.items.reduce(((t,e)=>t+e.quantity),0)},cartTotalPrice(){return this.cart.items.reduce(((t,e)=>t+e.product.price*e.quantity),0)}}};const Xt=(0,I.Z)(Gt,[["render",Yt]]);var te=Xt;const ee={class:"page-sign-up"},se={class:"columns"},ae={class:"column is-4 is-offset-4"},oe=(0,o._)("h1",{class:"title"},"Sign up",-1),ie={class:"field"},ne=(0,o._)("label",null,"Username",-1),re={class:"control"},le={class:"field"},ce=(0,o._)("label",null,"Password",-1),ue={class:"control"},de={class:"field"},me=(0,o._)("label",null,"Repeat password",-1),pe={class:"control"},he={key:0,class:"notification is-danger"},ge=(0,o._)("div",{class:"field"},[(0,o._)("div",{class:"control"},[(0,o._)("button",{class:"button is-dark"},"Sign up")])],-1),_e=(0,o._)("hr",null,null,-1);function ve(t,e,s,n,r,l){const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",ee,[(0,o._)("div",se,[(0,o._)("div",ae,[oe,(0,o._)("form",{onSubmit:e[3]||(e[3]=(0,a.iM)(((...t)=>l.submitForm&&l.submitForm(...t)),["prevent"]))},[(0,o._)("div",ie,[ne,(0,o._)("div",re,[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t)},null,512),[[a.nr,r.username]])])]),(0,o._)("div",le,[ce,(0,o._)("div",ue,[(0,o.wy)((0,o._)("input",{type:"password",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t)},null,512),[[a.nr,r.password]])])]),(0,o._)("div",de,[me,(0,o._)("div",pe,[(0,o.wy)((0,o._)("input",{type:"password",class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>r.password2=t)},null,512),[[a.nr,r.password2]])])]),r.errors.length?((0,o.wg)(),(0,o.iD)("div",he,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.errors,(t=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,i.zw)(t),1)))),128))])):(0,o.kq)("",!0),ge,_e,(0,o.Uk)(" Or "),(0,o.Wm)(c,{to:"/log-in"},{default:(0,o.w5)((()=>[(0,o.Uk)("click here")])),_:1}),(0,o.Uk)(" to log in! ")],32)])])])}var fe={name:"SignUp",data(){return{username:"",password:"",password2:"",errors:[]}},methods:{submitForm(){if(this.errors=[],""===this.username&&this.errors.push("The username is missing"),""===this.password&&this.errors.push("The password is too short"),this.password!==this.password2&&this.errors.push("The passwords doesn't match"),!this.errors.length){const t={username:this.username,password:this.password};C.Z.post("/api/v1/users/",t).then((t=>{(0,dt.toast)({message:"Account created, please log in!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"}),this.$router.push("/log-in")})).catch((t=>{if(t.response){for(const e in t.response.data)this.errors.push(`${e}: ${t.response.data[e]}`);console.log(JSON.stringify(t.response.data))}else t.message&&(this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(t)))}))}}}};const ye=(0,I.Z)(fe,[["render",ve]]);var we=ye;const be={class:"page-log-in"},ke={class:"columns"},Se={class:"column is-4 is-offset-4"},Ce=(0,o._)("h1",{class:"title"},"Log in",-1),Te={class:"field"},Ie=(0,o._)("label",null,"Username",-1),xe={class:"control"},$e={class:"field"},ze=(0,o._)("label",null,"Password",-1),Pe={class:"control"},Le={key:0,class:"notification is-danger"},qe=(0,o._)("div",{class:"field"},[(0,o._)("div",{class:"control"},[(0,o._)("button",{class:"button is-dark"},"Log in")])],-1),De=(0,o._)("hr",null,null,-1);function Ue(t,e,s,n,r,l){const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",be,[(0,o._)("div",ke,[(0,o._)("div",Se,[Ce,(0,o._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>l.submitForm&&l.submitForm(...t)),["prevent"]))},[(0,o._)("div",Te,[Ie,(0,o._)("div",xe,[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t)},null,512),[[a.nr,r.username]])])]),(0,o._)("div",$e,[ze,(0,o._)("div",Pe,[(0,o.wy)((0,o._)("input",{type:"password",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t)},null,512),[[a.nr,r.password]])])]),r.errors.length?((0,o.wg)(),(0,o.iD)("div",Le,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.errors,(t=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,i.zw)(t),1)))),128))])):(0,o.kq)("",!0),qe,De,(0,o.Uk)(" Or "),(0,o.Wm)(c,{to:"/sign-up"},{default:(0,o.w5)((()=>[(0,o.Uk)("click here")])),_:1}),(0,o.Uk)(" to sign up! ")],32)])])])}var Oe={name:"LogIn",data(){return{username:"",password:"",errors:[]}},mounted(){document.title="Log In | Djackets"},methods:{async submitForm(){C.Z.defaults.headers.common.Authorization="",localStorage.removeItem("token");const t={username:this.username,password:this.password};await C.Z.post("/api/v1/token/login/",t).then((t=>{const e=t.data.auth_token;this.$store.commit("setToken",e),C.Z.defaults.headers.common.Authorization="Token "+e,localStorage.setItem("token",e);const s=this.$route.query.to||"/cart";this.$router.push(s)})).catch((t=>{if(t.response)for(const e in t.response.data)this.errors.push(`${e}: ${t.response.data[e]}`);else this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(t))}))}}};const Ze=(0,I.Z)(Oe,[["render",Ue]]);var je=Ze;const Fe={class:"page-my-account"},Ae={class:"columns is-multiline"},Me=(0,o._)("div",{class:"column is-12"},[(0,o._)("h1",{class:"title"},"My account")],-1),He={class:"column is-12"},Ye=(0,o._)("hr",null,null,-1),Ne={class:"column is-12"},Ve=(0,o._)("h2",{class:"subtitle"},"My orders",-1);function We(t,e,s,a,i,n){const r=(0,o.up)("OrderSummary");return(0,o.wg)(),(0,o.iD)("div",Fe,[(0,o._)("div",Ae,[Me,(0,o._)("div",He,[(0,o._)("button",{onClick:e[0]||(e[0]=t=>n.logout()),class:"button is-danger"},"Log out")]),Ye,(0,o._)("div",Ne,[Ve,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.orders,(t=>((0,o.wg)(),(0,o.j4)(r,{key:t.id,order:t},null,8,["order"])))),128))])])])}const Ke={class:"box mb-4"},Ee={class:"is-size-4 mb-6"},Be=(0,o._)("h4",{class:"is-size-5"},"Products",-1),Je={class:"table is-fullwidth"},Qe=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Product"),(0,o._)("th",null,"Price"),(0,o._)("th",null,"Quantity"),(0,o._)("th",null,"Total")])],-1);function Re(t,e,s,a,n,r){return(0,o.wg)(),(0,o.iD)("div",Ke,[(0,o._)("h3",Ee,"Order #"+(0,i.zw)(s.order.id),1),Be,(0,o._)("table",Je,[Qe,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.order.items,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.product.id},[(0,o._)("td",null,(0,i.zw)(t.product.name),1),(0,o._)("td",null,"$"+(0,i.zw)(t.product.price),1),(0,o._)("td",null,(0,i.zw)(t.quantity),1),(0,o._)("td",null,"$"+(0,i.zw)(r.getItemTotal(t).toFixed(2)),1)])))),128))])])])}var Ge={name:"OrderSummary",props:{order:Object},methods:{getItemTotal(t){return t.quantity*t.product.price},orderTotalLength(t){return t.items.reduce(((t,e)=>t+e.quantity),0)}}};const Xe=(0,I.Z)(Ge,[["render",Re]]);var ts=Xe,es={name:"MyAccount",components:{OrderSummary:ts},data(){return{orders:[]}},mounted(){document.title="My account | Djackets",this.getMyOrders()},methods:{logout(){C.Z.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),this.$store.commit("removeToken"),this.$router.push("/")},async getMyOrders(){this.$store.commit("setIsLoading",!0),await C.Z.get("/api/v1/orders/").then((t=>{this.orders=t.data})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const ss=(0,I.Z)(es,[["render",We]]);var as=ss;const os={class:"page-checkout"},is={class:"columns is-multiline"},ns=(0,o._)("div",{class:"column is-12"},[(0,o._)("h1",{class:"title"},"Checkout")],-1),rs={class:"column is-12 box"},ls={class:"table is-fullwidth"},cs=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Product"),(0,o._)("th",null,"Price"),(0,o._)("th",null,"Quantity"),(0,o._)("th",null,"Total")])],-1),us=(0,o._)("td",{colspan:"2"},"Total",-1),ds={class:"column is-12 box"},ms=(0,o._)("h2",{class:"subtitle"},"Shipping details",-1),ps=(0,o._)("p",{class:"has-text-grey mb-4"},"* All fields are required",-1),hs={class:"columns is-multiline"},gs={class:"column is-6"},_s={class:"field"},vs=(0,o._)("label",null,"First name*",-1),fs={class:"control"},ys={class:"field"},ws=(0,o._)("label",null,"Last name*",-1),bs={class:"control"},ks={class:"field"},Ss=(0,o._)("label",null,"E-mail*",-1),Cs={class:"control"},Ts={class:"field"},Is=(0,o._)("label",null,"Phone*",-1),xs={class:"control"},$s={class:"column is-6"},zs={class:"field"},Ps=(0,o._)("label",null,"Address*",-1),Ls={class:"control"},qs={class:"field"},Ds=(0,o._)("label",null,"Zip code*",-1),Us={class:"control"},Os={class:"field"},Zs=(0,o._)("label",null,"Place*",-1),js={class:"control"},Fs={key:0,class:"notification is-danger mt-4"},As=(0,o._)("hr",null,null,-1),Ms=(0,o._)("div",{id:"card-element",class:"mb-5"},null,-1),Hs=(0,o._)("hr",null,null,-1);function Ys(t,e,s,n,r,l){return(0,o.wg)(),(0,o.iD)("div",os,[(0,o._)("div",is,[ns,(0,o._)("div",rs,[(0,o._)("table",ls,[cs,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.cart.items,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.product.id},[(0,o._)("td",null,(0,i.zw)(t.product.name),1),(0,o._)("td",null,"$"+(0,i.zw)(t.product.price),1),(0,o._)("td",null,(0,i.zw)(t.quantity),1),(0,o._)("td",null,"$"+(0,i.zw)(l.getItemTotal(t).toFixed(2)),1)])))),128))]),(0,o._)("tfoot",null,[(0,o._)("tr",null,[us,(0,o._)("td",null,(0,i.zw)(l.cartTotalLength),1),(0,o._)("td",null,"$"+(0,i.zw)(l.cartTotalPrice.toFixed(2)),1)])])])]),(0,o._)("div",ds,[ms,ps,(0,o._)("div",hs,[(0,o._)("div",gs,[(0,o._)("div",_s,[vs,(0,o._)("div",fs,[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>r.first_name=t)},null,512),[[a.nr,r.first_name]])])]),(0,o._)("div",ys,[ws,(0,o._)("div",bs,[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>r.last_name=t)},null,512),[[a.nr,r.last_name]])])]),(0,o._)("div",ks,[Ss,(0,o._)("div",Cs,[(0,o.wy)((0,o._)("input",{type:"email",class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>r.email=t)},null,512),[[a.nr,r.email]])])]),(0,o._)("div",Ts,[Is,(0,o._)("div",xs,[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e[3]||(e[3]=t=>r.phone=t)},null,512),[[a.nr,r.phone]])])])]),(0,o._)("div",$s,[(0,o._)("div",zs,[Ps,(0,o._)("div",Ls,[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e[4]||(e[4]=t=>r.address=t)},null,512),[[a.nr,r.address]])])]),(0,o._)("div",qs,[Ds,(0,o._)("div",Us,[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e[5]||(e[5]=t=>r.zipcode=t)},null,512),[[a.nr,r.zipcode]])])]),(0,o._)("div",Os,[Zs,(0,o._)("div",js,[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e[6]||(e[6]=t=>r.place=t)},null,512),[[a.nr,r.place]])])])])]),r.errors.length?((0,o.wg)(),(0,o.iD)("div",Fs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.errors,(t=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,i.zw)(t),1)))),128))])):(0,o.kq)("",!0),As,Ms,l.cartTotalLength?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[Hs,(0,o._)("button",{class:"button is-dark",onClick:e[7]||(e[7]=(...t)=>l.submitForm&&l.submitForm(...t))},"Pay with Stripe")],64)):(0,o.kq)("",!0)])])])}var Ns={name:"Checkout",data(){return{cart:{items:[]},stripe:{},card:{},first_name:"",last_name:"",email:"",phone:"",address:"",zipcode:"",place:"",errors:[]}},mounted(){if(document.title="Checkout",this.cart=this.$store.state.cart,this.cartTotalLength>0){this.stripe=Stripe("pk_test_51LpZ4YJSxzToAmYhtEmIpboZhUFJd9AE5WVtuQhWyFTlBItYRg62gAmUKbxYojkleYBCt2c3Kt1agQvo7UfJRjO900TKIDsqQe");const t=this.stripe.elements();this.card=t.create("card",{hidePostalCode:!0}),this.card.mount("#card-element")}},methods:{getItemTotal(t){return t.quantity*t.product.price},submitForm(){this.errors=[],""===this.first_name&&this.errors.push("The first name field is missing!"),""===this.last_name&&this.errors.push("The last name field is missing!"),""===this.email&&this.errors.push("The email field is missing!"),""===this.phone&&this.errors.push("The phone field is missing!"),""===this.address&&this.errors.push("The address field is missing!"),""===this.zipcode&&this.errors.push("The zip code field is missing!"),""===this.place&&this.errors.push("The place field is missing!"),this.errors.length||(this.$store.commit("setIsLoading",!0),this.stripe.createToken(this.card).then((t=>{t.error?(this.$store.commit("setIsLoading",!1),this.errors.push("Something went wrong with Stripe. Please try again"),console.log(t.error.message)):this.stripeTokenHandler(t.token)})))},async stripeTokenHandler(t){const e=[];for(let a=0;a<this.cart.items.length;a++){const t=this.cart.items[a],s={product:t.product.id,quantity:t.quantity,price:t.product.price*t.quantity};e.push(s)}const s={first_name:this.first_name,last_name:this.last_name,email:this.email,address:this.address,zipcode:this.zipcode,place:this.place,phone:this.phone,items:e,stripe_token:t.id};await C.Z.post("/api/v1/checkout/",s).then((t=>{this.$store.commit("clearCart"),this.$router.push("/cart/success")})).catch((t=>{this.errors.push("Something went wrong. Please try again"),console.log(t)})),this.$store.commit("setIsLoading",!1)}},computed:{cartTotalPrice(){return this.cart.items.reduce(((t,e)=>t+e.product.price*e.quantity),0)},cartTotalLength(){return this.cart.items.reduce(((t,e)=>t+e.quantity),0)}}};const Vs=(0,I.Z)(Ns,[["render",Ys]]);var Ws=Vs;const Ks={class:"page-success"},Es=(0,o._)("div",{class:"columns is-multiline"},[(0,o._)("div",{class:"column is-12"},[(0,o._)("h1",{class:"title"},"Thank you"),(0,o._)("p",null,"Your order will be processed within 48 hours")])],-1),Bs=[Es];function Js(t,e,s,a,i,n){return(0,o.wg)(),(0,o.iD)("div",Ks,Bs)}var Qs={name:"Success",mounted(){document.title="Success | Djackets"}};const Rs=(0,I.Z)(Qs,[["render",Js]]);var Gs=Rs;const Xs={class:"container my-5 mt-5 mx-5 px-5"},ta=(0,o._)("h2",{class:"title is-2 is-capitalized"},"Contact Us",-1),ea=(0,o._)("form",{action:"",method:"post"},[(0,o._)("div",{class:"field"},[(0,o._)("label",{for:"name",class:"label is-size-4 has-text-weight-light"}),(0,o._)("div",{class:"control has-icons-left"},[(0,o._)("input",{type:"text",name:"name",id:"name",class:"input",placeholder:"Name",autofocus:""}),(0,o._)("span",{class:"icon is-left"},[(0,o._)("i",{class:"la la-user"})])])]),(0,o._)("div",{class:"field"},[(0,o._)("label",{for:"email",class:"label is-size-4 has-text-weight-light"}),(0,o._)("div",{class:"control has-icons-left"},[(0,o._)("input",{type:"email",name:"email",id:"email",class:"input",placeholder:"Email"}),(0,o._)("span",{class:"icon is-left"},[(0,o._)("i",{class:"la la-envelope"})])])]),(0,o._)("div",{class:"field"},[(0,o._)("label",{for:"message",class:"label is-size-4 has-text-weight-light"}),(0,o._)("textarea",{name:"message",id:"message",rows:"5",class:"textarea is-medium",placeholder:"Message"})]),(0,o._)("button",{type:"submit",class:"button is-dark is-size-5"},"Submit")],-1),sa=[ta,ea];function aa(t,e){return(0,o.wg)(),(0,o.iD)("div",Xs,sa)}const oa={},ia=(0,I.Z)(oa,[["render",aa]]);var na=ia;const ra={class:"columns is-multiline"},la=(0,o.uE)('<div class="hero-body has-text-centered" data-v-48639332><p class="title mb-6" data-v-48639332> Welcome to <img class="guitar-logo" src="'+q+'" data-v-48639332></p></div><div class="column is-12" data-v-48639332><h2 class="is-size-2 has-text-centered" data-v-48639332>Latest Products</h2></div>',2);function ca(t,e,s,a,i,n){const r=(0,o.up)("ProductBox");return(0,o.wg)(),(0,o.iD)("div",ra,[la,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.latestProducts,(t=>((0,o.wg)(),(0,o.j4)(r,{key:t.id,product:t},null,8,["product"])))),128))])}var ua={name:"HomeView",components:{ProductBox:E},data(){return{latestProducts:[]}},mounted(){this.getLatestProduct(),document.title="RockNGuitars"},methods:{async getLatestProduct(){this.$store.commit("setIsLoading",!0),await C.Z.get("/api/v1/latest-products/").then((t=>{this.latestProducts=t.data})).catch((t=>{console.log(t)})),this.$store.commit("setIsLoading",!1)}}};const da=(0,I.Z)(ua,[["render",ca],["__scopeId","data-v-48639332"]]);var ma=da;const pa=[{path:"/",name:"home",component:Q},{path:"/about",name:"about",component:()=>s.e(443).then(s.bind(s,7381))},{path:"/search",name:"Search",component:Lt},{path:"/shop",name:"Shop",component:ma},{path:"/contact",name:"Contact",component:na},{path:"/log-in",name:"Login",component:je},{path:"/my-account",name:"MyAccount",component:as,meta:{requireLogin:!0}},{path:"/cart",name:"Cart",component:te},{path:"/cart/success",name:"Success",component:Gs},{path:"/cart/checkout",name:"Checkout",component:Ws,meta:{requireLogin:!0}},{path:"/sign-up",name:"Signup",component:we},{path:"/:category_slug/:product_slug",name:"Product",component:ht},{path:"/:category_slug/",name:"Category",component:kt}],ha=(0,z.p7)({history:(0,z.PO)("/"),routes:pa});ha.beforeEach(((t,e,s)=>{t.matched.some((t=>t.meta.requireLogin))&&!L.state.isAuthenticated?s({name:"LogIn",query:{to:t.path}}):s()}));var ga=ha;C.Z.defaults.baseURL="https://apistore.rcmaddox.com",(0,a.ri)($).use(L).use(ga).mount("#app")}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,o,i){if(!a){var n=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],i=t[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||n>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(r=!1,i<n&&(n=i));if(r){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,o,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,a){return s.f[a](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/about.05c1f0d0.js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="store_vue:";s.l=function(a,o,i,n){if(t[a])t[a].push(o);else{var r,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+i){r=d;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",e+i),r.src=a),t[a]=[o];var m=function(e,s){r.onerror=r.onload=null,clearTimeout(p);var o=t[a];if(delete t[a],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(t){return t(s)})),e)return e(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.f.j=function(e,a){var o=s.o(t,e)?t[e]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise((function(s,a){o=t[e]=[s,a]}));a.push(o[2]=i);var n=s.p+s.u(e),r=new Error,l=function(a){if(s.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;r.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",r.name="ChunkLoadError",r.type=i,r.request=n,o[1](r)}};s.l(n,l,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,i,n=a[0],r=a[1],l=a[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(l)var u=l(s)}for(e&&e(a);c<n.length;c++)i=n[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(u)},a=self["webpackChunkstore_vue"]=self["webpackChunkstore_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9641)}));a=s.O(a)})();
//# sourceMappingURL=app.51353127.js.map